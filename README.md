# Файлы и каталоги

- `c` директория компонентов
  - `FIELDS.jsx` компоненты полей
  - `local.jsx`  локализация
  - `part_1.jsx` компоненты раздела
  - `part_2.jsx` компоненты раздела
  - `part_3.jsx` компоненты раздела
  - `part_4.jsx` компоненты раздела
  - `PART.jsx`   компоненты обёртки раздела
- `img` медиафайлы
- `App.css` основной файл стилей
- `App.jsx` основной файл приложения

&nbsp;

# Описание работы приложения
По мере заполнения полей формы данные собираются в `state.form`. При попытке перейти на следующий шаг, проводится модерация полей текущего раздела и выдаются предупреждения в случае ошибок заполнения. По факту корректного заполнения формы до третьего шага включительно посылается запрос к API на создание нового пользователя и, в случае успеха, осуществляется переход на последний шаг с уведомлением об успешном завершении регистрации.

&nbsp;

# Добавление/изменение раздела

Обёртка раздела включает предзаголовок, прогресбар, описание шага

- __PART__

  Внесите в `switch` индекс нового раздела перед добавление.

- __PART_CONTAINER__
```javascript
  <PART_CONTAINER
    pretitle="string"             // текст перед блоком раздела
    step={`${__(9, 'Шаг')} 1/3`}  // такая конструкция с указанием шага и локализацией
    progress="33%"                // степень прогресса с указанием знака %
  >
  { /* ваш контент */ }
  </PART_CONTAINER>
```
- __PREV_BTN__, __NEXT_BTN__
  
  Отличие кнопок в том, что `NEXT_BTN` проводит валидацию полей раздела при попытке перехода.
  
```javascript
  <PREV_BTN 
    part="1"              // на какую часть перейти
    text={__(21, 'back')} // текст кнопки
  />
  <NEXT_BTN 
    part="3"              // на какую часть перейти
    text={__(9, 'next') + " 3/3"} // текст кнопки
  />
```

&nbsp;

# Добавление полей
Большинство атрибутов каждого поля берётся из объекта настроек `state.o`, который копируется из `window.o` при инициализации приложения.

- __INPUT__, __TEXTAREA__, __SELECT__
  ```javascript
  <SELECT f="string" />
  <INPUT 
    f="string"        // ключ поля как он будет сохранён в БД
    pattern="string"  // html атрибут, принимает строку, которая преобразуется в RegExp()
    type="string"     // тип поля
  />
  ```
- __OPTIONAL_INPUT__
  
  Представляет собой группу из INPUT и кастомного чекбокса, который включает 
  или отключает текстовое поле. Значение обоих полей фиксируется в БД при change. Ключ чекбокса составляется автоматически как: ключ текстового поля + `_on`.
  
  ```javascript
  <OPTIONAL_INPUT
    f="string"        // ключ поля как он будет сохранён в БД
    extClass="string" // можно указать свои классы через пробел
  />
  ```
- __FILE_FIELD__

  Выводит диалог для загрузки изображения с компьютера. `label` и `note` берутся из `state.o.fields`.
  ```javascript
    <FILE_FIELD 
      f="string" // Ключ поля как он будет записан в БД
    />
  ```
&nbsp;

# Локализация
Локализованные данные должны хранится в `window.o.localize`.
- `__(n, [defaultText = '[text]'])`

  Возвращает локализованную строку, в случае присутствия `n` в объекте `window.o.localize`, иначе возвращает `defaultText`.